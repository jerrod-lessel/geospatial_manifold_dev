<!doctype html>
<html lang="en">
<head>
  <!-- =========================================================
       BASIC PAGE METADATA
       ========================================================= -->
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width,initial-scale=1" />

  <!-- Title shown in browser tab -->
  <title>Geospatial Manifold</title>

  <!-- =========================================================
       FAVICON
       - Replace favicon.png with your own file if you want
       ========================================================= -->
  <link rel="icon" type="image/x-icon" href="favicon.ico" />

  <!-- =========================================================
       LEAFLET CSS (REQUIRED)
       - Leaflet styles for the map tiles, controls, popups, etc.
       ========================================================= -->
  <link
    rel="stylesheet"
    href="https://unpkg.com/leaflet@1.9.4/dist/leaflet.css"
    integrity="sha256-p4NxAoJBhIIN+hmNHrzRCf9tD/miZyoHS5obTRR9BMY="
    crossorigin=""
  />

  <!-- =========================================================
       YOUR SITE CSS (THIS FILE)
       ========================================================= -->
  <link rel="stylesheet" href="style.css" />
</head>

<body>
  <!-- =========================================================
       TOP BANNER / HEADER
       - Stays sticky at the top
       - Houses logo, title/subtitle, and About toggle button
       ========================================================= -->
  <header id="top-banner">
    <!-- Left side: logo + titles -->
    <div id="left-banner">
      <!-- Logo image (optional). If you don’t want a logo, remove this <img>. -->
      <img id="site-logo" src="logo.png" alt="Site logo" />

      <!-- Titles container -->
      <div id="titles">
        <!-- Main title -->
        <div id="main-title">Geospatial Manifold</div>

        <!-- Subtitle -->
        <div id="subtitle">Mapping risks, resources, and resilience across California</div>
      </div>
    </div>

    <!-- Right side: About button -->
    <button id="about-toggle" type="button" aria-controls="about-panel" aria-expanded="false">
      About
    </button>
  </header>

  <!-- =========================================================
       ABOUT PANEL (COLLAPSIBLE)
       - Hidden by default using .hidden
       - map.js toggles this panel on click
       ========================================================= -->
  <section id="about-panel" class="hidden">
    <h3>About Geospatial Manifold</h3>
    <p>
    Welcome to Geospatial Manifold! Your tool for exploring hazard, health, and resilience data across California. 
    This interactive map lets you see environmental conditions and community risks in your area or anywhere in the state. 
    Use the layers and controls to learn more and make informed decisions.
    </p>
    <p>
    The data behind this map comes from trusted sources, including CAL FIRE, the California Office of Environmental Health Hazard Assessment (OEHHA), the California Geological Survey, the U.S. Geological Survey (USGS), and FEMA.
  </p>
  <p>
    Geospatial Manifold was created by Jerrod Lessel, a geospatial analyst at Caltrans who lives on California’s Central Coast. This project aims to help Californians better understand the risks and strengths of their communities.
  </p>
    <p>
      Disclaimer: This map is informational only. Always consult official sources and local guidance for planning, emergency response, and permitting decisions.
    </p>
  </section>

  <!-- =========================================================
       MAIN LAYOUT CONTAINER
       - Two columns on desktop:
           Sidebar (left) + Map (right)
       - Stacks on mobile via CSS media query
       ========================================================= -->
  <div id="container">
    <!-- =====================
         SIDEBAR
         ===================== -->
    <aside id="sidebar">
      <h2>Location Report</h2>

      <!-- Where click report text appears -->
      <div id="report-content">
        <em>Click on the map to load data.</em>
      </div>
    </aside>

    <!-- =====================
         MAP AREA
         ===================== -->
    <main id="map-wrap">
      <!-- Leaflet requires a dedicated div container -->
      <div id="map"></div>

      <!-- Loading spinner overlay
           - map.js shows/hides this while queries are running
           - positioned over the sidebar edge for a "centered" look -->
      <div id="loading-spinner" class="hidden" aria-hidden="true">
        <div class="spinner"></div>
      </div>
    </main>
  </div>

  <!-- =========================================================
       JS LIBRARIES (ORDER MATTERS)
       ========================================================= -->

  <!-- Leaflet JS (REQUIRED) -->
  <script
    src="https://unpkg.com/leaflet@1.9.4/dist/leaflet.js"
    integrity="sha256-20nQCchB9co0qIjJZRGuk2/Z9VM+kNiyxNV1lvTlZBo="
    crossorigin=""
  ></script>

  <!-- Esri Leaflet (REQUIRED for FeatureServer/MapServer layers) -->
  <script src="https://unpkg.com/esri-leaflet@3.0.14/dist/esri-leaflet.js"></script>

  <!-- Turf.js (REQUIRED for nearest-edge distance calculations) -->
  <script src="https://unpkg.com/@turf/turf@6/turf.min.js"></script>

  <!-- =========================================================
       YOUR MAIN APP SCRIPT
       ========================================================= -->
  <script src="map.js"></script>
</body>
</html>
